import{a as z,b as H}from"./chunk-MYOAYTAU.js";import{b as P,c as u,e as A,f as R,h as O,i as D,j,k as q,l as B,n as G,o as w,p as k,q as J}from"./chunk-NL3S43LC.js";import"./chunk-NC2U4C36.js";import"./chunk-4YRY4IP2.js";import{aa as _,c as M,e as x,i as T,sa as F,ua as N}from"./chunk-A532XN6V.js";import{Ab as I,Ba as m,Ca as p,Qa as d,Ta as s,Z as b,ab as t,bb as e,cb as n,hb as S,kc as y,nc as V,sb as r,zb as E}from"./chunk-DDPP3QMU.js";function L(a,i){a&1&&(t(0,"small",19),r(1," Placa \xE9 obrigat\xF3ria "),e())}function Q(a,i){a&1&&(t(0,"small",19),r(1," Chassi \xE9 obrigat\xF3rio "),e())}function U(a,i){a&1&&(t(0,"small",19),r(1," Renavam \xE9 obrigat\xF3rio "),e())}function W(a,i){a&1&&(t(0,"small",19),r(1," Modelo \xE9 obrigat\xF3rio "),e())}function X(a,i){a&1&&(t(0,"small",19),r(1," Marca \xE9 obrigat\xF3ria "),e())}function Y(a,i){a&1&&(t(0,"small",19),r(1," Ano \xE9 obrigat\xF3rio "),e())}var K=class a{constructor(i,l,o,c,f){this.fb=i;this.veiculoService=l;this.router=o;this.route=c;this.messageService=f}form;veiculoId;modoEdicao=!1;ngOnInit(){this.form=this.fb.group({id:[0],placa:["",u.required],chassi:["",u.required],renavam:["",u.required],modelo:["",u.required],marca:["",u.required],ano:["",[u.required,u.min(1900)]]});let i=this.route.snapshot.paramMap.get("id");if(i){this.modoEdicao=!0,this.veiculoId=+i;let l=this.veiculoService.buscarPorId(this.veiculoId);l&&(console.log(l),this.form.patchValue(l))}}salvar(){if(this.form.valid){let i=this.form.value;i.id?(this.veiculoService.atualizar(i),this.messageService.add({severity:"success",summary:"Atualizado",detail:"Ve\xEDculo atualizado com sucesso!"})):(this.veiculoService.adicionar(i),this.messageService.add({severity:"success",summary:"Cadastrado",detail:"Ve\xEDculo cadastrado com sucesso!"})),setTimeout(()=>{this.router.navigate(["/lista"])},2e3)}else this.form.markAllAsTouched(),this.messageService.add({severity:"error",summary:"Erro",detail:"Preencha todos os campos obrigat\xF3rios!"})}static \u0275fac=function(l){return new(l||a)(p(B),p(J),p(x),p(M),p(_))};static \u0275cmp=b({type:a,selectors:[["app-cadastro-veiculo"]],standalone:!0,features:[E([_]),I],decls:37,vars:7,consts:[[1,"p-card","p-4","shadow-2","border-round","surface-card"],[1,"text-2xl","mb-4","font-semibold","text-primary"],[1,"grid","formgrid",3,"ngSubmit","formGroup"],[1,"field","col-12","md:col-6"],["for","placa"],["id","placa","pInputText","","formControlName","placa"],["class","p-error",4,"ngIf"],["for","chassi"],["id","chassi","pInputText","","formControlName","chassi"],["for","renavam"],["id","renavam","pInputText","","formControlName","renavam"],["for","modelo"],["id","modelo","pInputText","","formControlName","modelo"],["for","marca"],["id","marca","pInputText","","formControlName","marca"],["for","ano"],["id","ano","pInputText","","type","number","formControlName","ano"],[1,"col-12","flex","justify-content-end"],["pButton","","type","submit","label","Salvar",1,"p-button-success"],[1,"p-error"]],template:function(l,o){if(l&1&&(t(0,"div",0)(1,"h2",1),r(2,"Cadastro de Ve\xEDculo"),e(),t(3,"form",2),S("ngSubmit",function(){return o.salvar()}),t(4,"div",3)(5,"label",4),r(6,"Placa"),e(),n(7,"input",5),d(8,L,2,0,"small",6),e(),t(9,"div",3)(10,"label",7),r(11,"Chassi"),e(),n(12,"input",8),d(13,Q,2,0,"small",6),e(),t(14,"div",3)(15,"label",9),r(16,"Renavam"),e(),n(17,"input",10),d(18,U,2,0,"small",6),e(),t(19,"div",3)(20,"label",11),r(21,"Modelo"),e(),n(22,"input",12),d(23,W,2,0,"small",6),e(),t(24,"div",3)(25,"label",13),r(26,"Marca"),e(),n(27,"input",14),d(28,X,2,0,"small",6),e(),t(29,"div",3)(30,"label",15),r(31,"Ano"),e(),n(32,"input",16),d(33,Y,2,0,"small",6),e(),t(34,"div",17),n(35,"button",18),e()()(),n(36,"p-toast")),l&2){let c,f,v,g,h,C;m(3),s("formGroup",o.form),m(5),s("ngIf",((c=o.form.get("placa"))==null?null:c.invalid)&&((c=o.form.get("placa"))==null?null:c.touched)),m(5),s("ngIf",((f=o.form.get("chassi"))==null?null:f.invalid)&&((f=o.form.get("chassi"))==null?null:f.touched)),m(5),s("ngIf",((v=o.form.get("renavam"))==null?null:v.invalid)&&((v=o.form.get("renavam"))==null?null:v.touched)),m(5),s("ngIf",((g=o.form.get("modelo"))==null?null:g.invalid)&&((g=o.form.get("modelo"))==null?null:g.touched)),m(5),s("ngIf",((h=o.form.get("marca"))==null?null:h.invalid)&&((h=o.form.get("marca"))==null?null:h.touched)),m(5),s("ngIf",((C=o.form.get("ano"))==null?null:C.invalid)&&((C=o.form.get("ano"))==null?null:C.touched))}},dependencies:[V,y,G,O,P,D,A,R,j,q,k,w,N,F,H,z,T],styles:['[_nghost-%COMP%]     .p-card{max-width:800px;margin:0 auto;background-color:#fff}[_nghost-%COMP%]     h2{color:var(--primary-color)}[_nghost-%COMP%]     .field label{font-weight:600;margin-bottom:.5rem;display:block}[_nghost-%COMP%]     input{width:100%}[_nghost-%COMP%]     .p-error{color:#f44336;font-size:.755rem;display:block;margin-top:.25rem}[_nghost-%COMP%]     label:after{content:"*";color:#f44336;margin-left:.25rem}']})};export{K as CadastroVeiculoComponent};
